{"ast":null,"code":"var _jsxFileName = \"/Users/ocean/Code/ocean/Kodprov/kodprov_frontend/src/pages/Persons.js\";\nimport React, { Component } from 'react';\nimport { server } from '../config';\n\nclass Persons extends Component {\n  constructor(props) {\n    super(props); //this.fetchPersons();\n\n    this.state = {\n      personsList: [{\n        id: 1,\n        firstName: \"Cool\",\n        surName: \"Cat\",\n        ssn: 9009161358,\n        country: \"Sweden\",\n        city: \"Stockholm\"\n      }, {\n        id: 2,\n        firstName: \"Klas\",\n        surName: \"Banan\",\n        ssn: 9908161756,\n        country: \"UK\",\n        city: \"London\"\n      }]\n    };\n  }\n\n  fetchPersons() {\n    fetch(server + \"/getPersons\").then(response => {\n      return response.json();\n    }).then(response => {\n      if (response.error && response.status === 403) {} else if (response.error) throw new Error(\"Something went wrong. Please try again.\");else return response;\n    }).then(data => {\n      this.updatePersonsList(data);\n    }).catch(e => {\n      alert(e.message);\n    });\n  }\n\n  updatePersonsList(data) {\n    this.setState({\n      personsList: data\n    });\n  }\n\n  showPersonsList() {\n    if (this.state.personsList && this.state.personsList.length > 0) {\n      return React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"ID\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"First name\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \" \", \"Surname\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \" \", \"SSN\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Country\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" \", \"City\")), this.state.personsList.map((person, index) => React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, person.id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, person.firstName), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, person.surName), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, person.ssn), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, person.country), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, person.city)))));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"listView\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"no results\");\n    }\n  }\n\n  render() {\n    return this.showPersonsList();\n  }\n\n}\n\nexport default Persons;","map":{"version":3,"sources":["/Users/ocean/Code/ocean/Kodprov/kodprov_frontend/src/pages/Persons.js"],"names":["React","Component","server","Persons","constructor","props","state","personsList","id","firstName","surName","ssn","country","city","fetchPersons","fetch","then","response","json","error","status","Error","data","updatePersonsList","catch","e","alert","message","setState","showPersonsList","length","map","person","index","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {server} from '../config';\n\nclass Persons extends Component{\n\n    state = {\n        personsList: [\n            {\n                id: 1,\n                firstName: \"Cool\",\n                surName: \"Cat\",\n                ssn: 9009161358,\n                country: \"Sweden\",\n                city: \"Stockholm\",\n            },\n            {\n                id: 2,\n                firstName: \"Klas\",\n                surName: \"Banan\",\n                ssn: 9908161756,\n                country: \"UK\",\n                city: \"London\",\n            }\n\n        ],\n    }\n\n\n    constructor(props) {\n        super(props);\n        //this.fetchPersons();\n    }\n\n    fetchPersons(){\n        fetch(server + \"/getPersons\")\n            .then((response) => {\n                return response.json();\n            })\n            .then((response) =>\n            {\n                if ((response.error) && response.status === 403) {\n\n                }\n                else if (response.error) throw new Error(\"Something went wrong. Please try again.\");\n                else return response;\n            })\n            .then(data =>{\n                this.updatePersonsList(data);})\n            .catch(e => {\n                alert(e.message);\n            })\n    }\n\n    updatePersonsList(data){\n        this.setState({personsList: data})\n    }\n\n    showPersonsList() {\n        if(this.state.personsList && this.state.personsList.length > 0){\n            return <table>\n                <tbody>\n                <tr>\n                    <td>{\"ID\"}</td>\n\n                    <td>{\"First name\"}</td>\n\n                    <td> {\"Surname\"}</td>\n\n                    <td> {\"SSN\"}</td>\n\n                    <td>{\"Country\"}</td>\n\n                    <td> {\"City\"}</td>\n                </tr>\n                { this.state.personsList.map((person, index) =>\n                    <tr>\n                        <td>{person.id}</td>\n\n                        <td>{person.firstName}</td>\n\n                        <td>{person.surName}</td>\n\n                        <td>{person.ssn}</td>\n\n                        <td>{person.country}</td>\n\n                        <td>{person.city}</td>\n                    </tr>)\n                }\n            </tbody>\n            </table>;\n        }\n        else{\n            return <div id={\"listView\"}>no results</div>\n        }\n    }\n\n\n    render(){\n        return(\n                this.showPersonsList()\n        )\n    }\n\n}\n\nexport default Persons;"]},"metadata":{},"sourceType":"module"}