{"ast":null,"code":"var _jsxFileName = \"/Users/ocean/Code/ocean/Kodprov/kodprov_frontend/src/pages/Persons.js\";\nimport React, { Component } from 'react';\nimport { server } from '../config';\n\nclass Persons extends Component {\n  constructor(props) {\n    super(props); //this.fetchPersons();\n\n    this.state = {\n      personsList: [{\n        id: 1,\n        firstName: \"Cool\",\n        surName: \"Cat\",\n        ssn: 9009161358,\n        country: \"Sweden\",\n        city: \"Stockholm\"\n      }, {\n        id: 2,\n        firstName: \"Klas\",\n        surName: \"Banan\",\n        ssn: 9908161756,\n        country: \"UK\",\n        city: \"London\"\n      }]\n    };\n  }\n\n  fetchPersons() {\n    fetch(server + \"/getPersons\").then(response => {\n      return response.json();\n    }).then(response => {\n      if (response.error && response.status === 403) {} else if (response.error) throw new Error(\"Something went wrong. Please try again.\");else return response;\n    }).then(data => {\n      this.updatePersonsList(data);\n    }).catch(e => {\n      alert(e.message);\n    });\n  }\n\n  updatePersonsList(data) {\n    this.setState({\n      personsList: data\n    });\n  }\n\n  showPersonsList() {\n    if (this.state.personsList && this.state.personsList.length > 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.state.personsList.map((person, index) => React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        id: \"listID\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"ID: \" + person.id), React.createElement(\"td\", {\n        id: \"listFirst\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"First name: \" + person.firstName), React.createElement(\"td\", {\n        id: \"listSur\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Surname: \" + person.surName), React.createElement(\"td\", {\n        id: \"listSSN\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"SSN: \" + person.ssn), React.createElement(\"td\", {\n        id: \"listCountry\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Country: \" + person.country), React.createElement(\"td\", {\n        id: \"listCity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"City: \" + person.city))));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"listView\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"no results\");\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.showPersonsList());\n  }\n\n}\n\nexport default Persons;","map":{"version":3,"sources":["/Users/ocean/Code/ocean/Kodprov/kodprov_frontend/src/pages/Persons.js"],"names":["React","Component","server","Persons","constructor","props","state","personsList","id","firstName","surName","ssn","country","city","fetchPersons","fetch","then","response","json","error","status","Error","data","updatePersonsList","catch","e","alert","message","setState","showPersonsList","length","map","person","index","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {server} from '../config';\n\nclass Persons extends Component{\n\n    state = {\n        personsList: [\n            {\n                id: 1,\n                firstName: \"Cool\",\n                surName: \"Cat\",\n                ssn: 9009161358,\n                country: \"Sweden\",\n                city: \"Stockholm\",\n            },\n            {\n                id: 2,\n                firstName: \"Klas\",\n                surName: \"Banan\",\n                ssn: 9908161756,\n                country: \"UK\",\n                city: \"London\",\n            }\n\n        ],\n    }\n\n\n    constructor(props) {\n        super(props);\n        //this.fetchPersons();\n    }\n\n    fetchPersons(){\n        fetch(server + \"/getPersons\")\n            .then((response) => {\n                return response.json();\n            })\n            .then((response) =>\n            {\n                if ((response.error) && response.status === 403) {\n\n                }\n                else if (response.error) throw new Error(\"Something went wrong. Please try again.\");\n                else return response;\n            })\n            .then(data =>{\n                this.updatePersonsList(data);})\n            .catch(e => {\n                alert(e.message);\n            })\n    }\n\n    updatePersonsList(data){\n        this.setState({personsList: data})\n    }\n\n    showPersonsList() {\n        if(this.state.personsList && this.state.personsList.length > 0){\n            return <div>\n                { this.state.personsList.map((person, index) =>\n                    <tr>\n                        <td id={\"listID\"}>{\"ID: \" + person.id}</td>\n\n                        <td id={\"listFirst\"}>{\"First name: \" + person.firstName}</td>\n\n                        <td id={\"listSur\"}>{\"Surname: \" + person.surName}</td>\n\n                        <td id={\"listSSN\"}>{\"SSN: \" + person.ssn}</td>\n\n                        <td id={\"listCountry\"}>{\"Country: \" + person.country}</td>\n\n                        <td id={\"listCity\"}>{\"City: \" + person.city}</td>\n                    </tr>)\n                }\n            </div>;\n        }\n        else{\n            return <div id={\"listView\"}>no results</div>\n        }\n    }\n\n\n    render(){\n        return(\n            <div>\n                {this.showPersonsList()}\n            </div>\n        )\n    }\n\n}\n\nexport default Persons;"]},"metadata":{},"sourceType":"module"}